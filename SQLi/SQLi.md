### SQL Injection Payload List

 * [PAYLOADS](https://github.com/PrimeJedi/Bestiary/tree/main/payloads/SQLi)

<p align="center"> 
<img src="/img/common-sql-injection-attacks.png">
</p>

#### SQL Injection

В этом разделе мы объясним, что такое SQL-инъекция, опишем некоторые распространенные примеры, объясним, как находить и использовать различные виды уязвимостей SQL-инъекций, а также подведем итоги, как предотвратить SQL-инъекцию.

#### Что такое SQL-инъекция (SQLi)?

SQL-инъекция — это уязвимость веб-безопасности, которая позволяет злоумышленнику вмешиваться в запросы, которые приложение отправляет в свою базу данных. Обычно это позволяет злоумышленнику просматривать данные, которые он обычно не может получить. Сюда могут входить данные, принадлежащие другим пользователям, или любые другие данные, к которым может получить доступ само приложение. Во многих случаях злоумышленник может изменить или удалить эти данные, вызывая постоянные изменения в содержимом или поведении приложения.

В некоторых ситуациях злоумышленник может расширить атаку с помощью SQL-инъекции, чтобы скомпрометировать базовый сервер или другую внутреннюю инфраструктуру, или выполнить атаку типа «отказ в обслуживании». 


|    Тип SQL-инъекции        | Описание                      
|----------------|-------------------------------|
|In-band SQLi (Classic SQLi)|Внутриполосное внедрение SQL-кода — наиболее распространенный и простой в использовании вид атак с использованием SQL-инъекций. Внутриполосная SQL-инъекция происходит, когда злоумышленник может использовать один и тот же канал связи как для запуска атаки, так и для сбора результатов. Двумя наиболее распространенными типами внутриполосного внедрения SQL являются SQLi на основе ошибок и SQLi на основе объединений.  |    
|Error-based SQLi          |SQLi на основе ошибок — это метод внутриполосной инъекции SQL, который основан на сообщениях об ошибках, выдаваемых сервером базы данных, для получения информации о структуре базы данных. В некоторых случаях злоумышленнику достаточно одного лишь внедрения SQL-кода на основе ошибок, чтобы перебрать всю базу данных. | 
|Union-based SQLi         |SQLi на основе объединения — это метод внутриполосного внедрения SQL, который использует оператор UNION SQL для объединения результатов двух или более операторов SELECT в один результат, который затем возвращается как часть ответа HTTP. |
|Inferential SQLi (Blind SQLi)|нференциальная SQL-инъекция, в отличие от внутриполосного SQLi, может занять больше времени для злоумышленника, однако она так же опасна, как и любая другая форма SQL-инъекции. При атаке на основе логического SQLi данные фактически не передаются через веб-приложение, и злоумышленник не сможет увидеть результат внутриполосной атаки (именно поэтому такие атаки обычно называют «атаками со слепым внедрением SQL»). . Вместо этого злоумышленник может восстановить структуру базы данных, отправляя полезные данные, наблюдая за ответом веб-приложения и результирующим поведением сервера базы данных. Двумя типами внедрения SQL-кода на основе вывода являются SQLi на основе слепого логического значения и SQLi на основе времени простоя.|
|Boolean-based (content-based) Blind SQLi |Логический SQL-инъекция — это метод логической SQL-инъекции, основанный на отправке SQL-запроса в базу данных, который заставляет приложение возвращать другой результат в зависимости от того, возвращает ли запрос результат TRUE или FALSE. В зависимости от результата содержимое HTTP-ответа изменится или останется прежним. Это позволяет злоумышленнику сделать вывод, вернула ли используемая полезная нагрузка значение true или false, даже если данные из базы данных не возвращены. |
|Time-based Blind SQLi |SQL-инъекция на основе времени — это метод логической инъекции SQL, основанный на отправке SQL-запроса в базу данных, который заставляет базу данных ждать определенное время (в секундах) перед ответом. Время ответа укажет злоумышленнику, является ли результат запроса ИСТИНОЙ или ЛОЖЬЮ. В зависимости от результата HTTP-ответ будет возвращен с задержкой или возвращен немедленно. Это позволяет злоумышленнику сделать вывод, вернула ли используемая полезная нагрузка значение true или false, даже если данные из базы данных не возвращены. |
|Out-of-band SQLi|Внеполосное внедрение SQL-кода не очень распространено, главным образом потому, что оно зависит от функций, включенных на сервере базы данных, используемом веб-приложением. Внеполосное внедрение SQL-кода происходит, когда злоумышленник не может использовать тот же канал для запуска атаки и сбора результатов. Внеполосные методы предлагают злоумышленнику альтернативу методам вывода на основе времени, особенно если ответы сервера не очень стабильны (что делает атаку на основе вывода на основе времени ненадежной). |


#### Инструмент сканирования уязвимостей SQL-инъекций: 

* [SQLMap](https://github.com/sqlmapproject/sqlmap) – инструмент автоматического внедрения SQL и захвата базы данных 

* [jSQL Injection](https://github.com/ron190/jsql-injection) –  Java-инструмент для автоматического внедрения SQL в базу данных 

* [BBQSQL](https://github.com/Neohapsis/bbqsql) – инструмент для слепой SQL-инъекции 

* [NoSQLMap](https://github.com/codingo/NoSQLMap) – автоматизированное создание базы данных NoSQL 

* [Whitewidow](https://www.kitploit.com/2017/05/whitewidow-sql-vulnerability-scanner.html) – сканер уязвимостей SQL 

* [DSSS](https://github.com/stamparm/DSSS) – чертовски маленький SQLi-сканер 

* [explo](https://github.com/dtag-dev-sec/explo) – формат тестирования веб-уязвимостей, читаемый человеком и машиной 

* [Blind-Sql-Bitshifting](https://github.com/awnumar/blind-sql-bitshifting) – Слепая SQL-инъекция посредством Bitshifting 

* [Leviathan](https://github.com/leviathan-framework/leviathan) – широкий спектр инструментов массового аудита 

* [Blisqy](https://github.com/JohnTroony/Blisqy) – использование слепой SQL-инъекции на основе времени в HTTP-заголовки (MySQL/MariaDB)

#### Ссылки: 

* Шпаргалка по SQL инъекциям: https://defcon.ru/web-security/2784/
* PT SQL Injection от А до Я: https://www.ptsecurity.com/upload/corporate/ru-ru/analytics/PT-devteev-Advanced-SQL-Injection.pdf
* SQL-инъекция (OWASP): https://www.owasp.org/index.php/SQL_Injection
* Слепая SQL-инъекция: https://www.owasp.org/index.php/Blind_SQL_Injection
* Тестирование на SQL-инъекцию (OTG-INPVAL-005): https://www.owasp.org/index.php/Testing_for_SQL_Injection_(OTG-INPVAL-005)
* SQL-инъекция в обход WAF: https://www.owasp.org/index.php/SQL_Injection_Bypassing_WAF
* Проверка кода для SQL-инъекции: https://www.owasp.org/index.php/Reviewing_Code_for_SQL_Injection
* PL/SQL: SQL-инъекция: https://www.owasp.org/index.php/PL/SQL:SQL_Injection
* Тестирование на внедрение NoSQL: https://www.owasp.org/index.php/Testing_for_NoSQL_injection
* Памятка по предотвращению SQL-инъекций : https://cheatsheetseries.owasp.org/cheatsheets/Injection_Prevention_Cheat_Sheet.html
* Памятка по параметризации SQL-запросов : https://cheatsheetseries.owasp.org/cheatsheets/Query_Parameterization_Cheat_Sheet.html
